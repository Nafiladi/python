<!DOCTYPE html>
<html>
<head>
    <title>Who is Ohio?</title>
    <style>
        body {
            font-family: sans-serif;
            text-align: center;
            background-color: #f0f0f0;
            padding: 20px;
        }
        #game-container {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            margin: 0 auto;
        }
        #output {
            margin-bottom: 20px;
            min-height: 100px;
        }
        input[type="text"] {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 300px;
        }
        button {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
        #timer {
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        #mode-select {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>Who is Ohio?</h1>
        <div id="mode-select">
            <label for="gameMode">Game Mode:</label>
            <select id="gameMode">
                <option value="normal">Normal</option>
                <option value="timed">Timed</option>
                <option value="hint">Hint</option>
            </select>
        </div>
        <div id="timer"></div>
        <div id="output"></div>
        <input type="text" id="guessInput" placeholder="Enter your guess">
        <button id="guessButton">Guess</button>
        <p id="scoreDisplay">Score: 0</p>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const characters = {
                "Steve": { description: "the sentient stapler with existential dread", features: ["office supplies", "existential"] },
                "Hao": { description: "the master of puns so bad they're good (or are they?)", features: ["puns", "bad jokes"] },
                "A talking toaster": { description: "that dispenses wisdom and slightly burnt toast", features: ["toast", "wisdom"] },
                "A time traveling pigeon": { description: "who's seen some stuff.", features: ["time travel", "pigeons"] },
                // ...other characters...
            };

            const phrases = {
                intro: [
                    "Welcome to the chaotic realm of 'Who is Ohio?' Prepare for the absurd!",
                    "Enter the void where logic takes a vacation. We call it 'Who is Ohio?'",
                ],
                thinking: [
                    "I'm contemplating an entity... or a glitch in the cosmic microwave...",
                    "My thoughts drift to a being... or a rogue thought escaped from a banana...",
                ],
                guess: [
                    "Who... or what... dares to claim the title of Ohio? And why are they wearing a hat?",
                    "Tell me, what twisted form does Ohio take? And what's their favorite snack?",
                ],
                correct: [
                    "You have pierced the veil! It was indeed Ohio! And they applaud your snack choice.",
                    "Magnificent! Your intuition aligns with the absurd. Ohio revealed! You win a virtual high-five.",
                ],
                incorrect: [
                    "Your perception falters. That was not Ohio. And they are judging your fashion sense.",
                    "Alas, you have strayed from the path. Ohio remains elusive. And they are disappointed in your life choices.",
                ],
            };

            let score = 0;
            let highScore = 0;
            let maxAttempts = 5;
            let chosenCharacter, characterData;
            let guessCount = 0;
            let timerInterval;
            let timeLeft = 15;

            const outputDiv = document.getElementById("output");
            const guessInput = document.getElementById("guessInput");
            const guessButton = document.getElementById("guessButton");
            const scoreDisplay = document.getElementById("scoreDisplay");
            const timerDisplay = document.getElementById("timer");
            const gameModeSelect = document.getElementById("gameMode");

            function appendToOutput(message) {
                outputDiv.innerHTML += `<p>${message}</p>`;
            }

            function resetGame() {
                clearInterval(timerInterval);
                guessInput.value = "";
                guessCount = 0;
                timeLeft = 15;
                timerDisplay.textContent = "";
            }

            function startGame() {
                console.log("Starting the game...");
                resetGame();
                const gameMode = gameModeSelect.value;
                chosenCharacter = Object.keys(characters)[Math.floor(Math.random() * Object.keys(characters).length)];
                characterData = characters[chosenCharacter];

                appendToOutput(phrases.intro[Math.floor(Math.random() * phrases.intro.length)]);
                appendToOutput(phrases.thinking[Math.floor(Math.random() * phrases.thinking.length)]);
                appendToOutput(phrases.guess[Math.floor(Math.random() * phrases.guess.length)]);

                if (gameMode === "timed") {
                    timerInterval = setInterval(updateTimer, 1000);
                }
            }

            function updateTimer() {
                timeLeft--;
                timerDisplay.textContent = `Time left: ${timeLeft}s`;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    appendToOutput("Time's up! Starting a new round...");
                    startGame();
                }
            }

            function handleGuess() {
                const guess = guessInput.value.trim().toLowerCase();

                if (!guess) {
                    appendToOutput("Please enter a valid guess.");
                    return;
                }

                guessCount++;

                if (guess === chosenCharacter.toLowerCase()) {
                    appendToOutput(phrases.correct[Math.floor(Math.random() * phrases.correct.length)]);
                    score += 10 - guessCount + 1;
                    if (score > highScore) {
                        highScore = score;
                    }
                    scoreDisplay.textContent = `Score: ${score}`;
                    startGame();
                } else {
                    appendToOutput(phrases.incorrect[Math.floor(Math.random() * phrases.incorrect.length)]);
                    if (guessCount >= maxAttempts) {
                        appendToOutput(`The true Ohio was: ${chosenCharacter}`);
                        score -= 5;
                        scoreDisplay.textContent = `Score: ${score}`;
                        startGame();
                    }
                }

                if (gameModeSelect.value === "hint" && guessCount > 0) {
                    const hint = characterData.features[Math.floor(Math.random() * characterData.features.length)];
                    appendToOutput(`Hint: They are related to ${hint}`);
                }

                guessInput.value = "";
            }

            guessButton.addEventListener("click", handleGuess);
            guessInput.addEventListener("keypress", (event) => {
                if (event.key === "Enter") {
                    handleGuess();
                }
            });

            startGame();
        });
    </script>
</body>
</html>